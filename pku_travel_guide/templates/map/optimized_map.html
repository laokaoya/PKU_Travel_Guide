<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_b64e0c6e4181c7a6df33e0ebee19d69b {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    <script src="https://cdn.jsdelivr.net/npm/leaflet-textpath@1.2.3/leaflet.textpath.min.js"></script>
</head>
<body>
    
    
            <div class="folium-map" id="map_b64e0c6e4181c7a6df33e0ebee19d69b" ></div>
        
</body>
<script>
    
    
            var map_b64e0c6e4181c7a6df33e0ebee19d69b = L.map(
                "map_b64e0c6e4181c7a6df33e0ebee19d69b",
                {
                    center: [39.99063887, 116.3092085],
                    crs: L.CRS.EPSG3857,
                    zoom: 17,
                    zoomControl: true,
                    preferCanvas: false,
                    Id: "my_map",
                }
            );

            

        
    
            var tile_layer_550ab1e1bb84466cab40f3b9e97b4a42 = L.tileLayer(
                "https://tile-a.openstreetmap.fr/hot/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_550ab1e1bb84466cab40f3b9e97b4a42.addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var circle_marker_408e9452c2db621cb8419a30d331d991 = L.circleMarker(
                [39.99063887, 116.3092085],
                {"bubblingMouseEvents": true, "color": "yellow", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "yellow", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 12, "stroke": true, "weight": 3}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var circle_marker_5a8b61c0e299f7c8bcc87f11ed0667c4 = L.circleMarker(
                [39.98535432, 116.3054595],
                {"bubblingMouseEvents": true, "color": "gray", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "gray", "fillOpacity": 0.7, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 12, "stroke": true, "weight": 3}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var marker_992e0423d6a88c17634a3962fe0be367 = L.marker(
                [39.99263959, 116.3056633],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_3cc17ce90bd70bb28a963efe2df6dffa = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "orange", "prefix": "glyphicon"}
            );
            marker_992e0423d6a88c17634a3962fe0be367.setIcon(icon_3cc17ce90bd70bb28a963efe2df6dffa);
        
    
        var popup_e0c01f8aeac2a4a20b5924c73a36398b = L.popup({"maxWidth": 400});

        
            
                var html_cb76dcfe87edb4735d4795edb8052c1d = $(`<div id="html_cb76dcfe87edb4735d4795edb8052c1d" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">博雅塔</h3>         <p style="font-size:18px; margin-bottom: 10px;">博雅塔坐落于北京大学的未名湖畔，以其独特的设计和历史背景成为经典游览的必访之地。环绕在青翠的松柏间，塔身高耸，映衬着湖面波光粼粼，呈现出一幅和谐的自然画卷。登上螺旋梯可俯瞰校园美景，感受历史与自然的交融。在这里，您不仅能欣赏到古老的建筑魅力，还能沉浸于这片山水之间的宁静与悠然。</p>                  <div style="margin-bottom: 15px;">             <p id="likes-博雅塔" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 1</p>             <button onclick="likeLocation('博雅塔')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-博雅塔" style="font-size:16px; margin-bottom: 5px;">当前评分: 0.0/5</p>             <label for="rating-select-博雅塔" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-博雅塔" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('博雅塔')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-博雅塔" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('博雅塔')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-博雅塔">             <button onclick="getComments('博雅塔')">查看评论</button>             <ul id="comments-list-博雅塔"></ul>         </div>     </div>     </div>`)[0];
                popup_e0c01f8aeac2a4a20b5924c73a36398b.setContent(html_cb76dcfe87edb4735d4795edb8052c1d);
            
        

        marker_992e0423d6a88c17634a3962fe0be367.bindPopup(popup_e0c01f8aeac2a4a20b5924c73a36398b)
        ;

        
    
    
            var marker_986bdb4978f649ef74dde467ebf8224c = L.marker(
                [39.99262303, 116.3005537],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_673a856c3c0e481fef9aace0bb682e00 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "blue", "prefix": "glyphicon"}
            );
            marker_986bdb4978f649ef74dde467ebf8224c.setIcon(icon_673a856c3c0e481fef9aace0bb682e00);
        
    
        var popup_0979be1f58be6966ff230e0d818e4416 = L.popup({"maxWidth": 400});

        
            
                var html_3d2c81ec5b0aa8f5ce38fe53d223c82c = $(`<div id="html_3d2c81ec5b0aa8f5ce38fe53d223c82c" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">档案馆</h3>         <p style="font-size:18px; margin-bottom: 10px;">北京大学档案馆不仅是学术研究的宝库，更是历史与文化的见证。在这里，你可以透视北京大学悠久的教育与科研历程，感受百年风华。馆藏丰富，如山水画卷般展现着学校的辉煌与变迁。对于热爱历史与文化的你，探索这座档案馆无疑将会是一次深入而独特的经典之旅，带你领略教育与文化的精髓。</p>                  <div style="margin-bottom: 15px;">             <p id="likes-档案馆" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 0</p>             <button onclick="likeLocation('档案馆')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-档案馆" style="font-size:16px; margin-bottom: 5px;">当前评分: 0.0/5</p>             <label for="rating-select-档案馆" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-档案馆" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('档案馆')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-档案馆" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('档案馆')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-档案馆">             <button onclick="getComments('档案馆')">查看评论</button>             <ul id="comments-list-档案馆"></ul>         </div>     </div>     </div>`)[0];
                popup_0979be1f58be6966ff230e0d818e4416.setContent(html_3d2c81ec5b0aa8f5ce38fe53d223c82c);
            
        

        marker_986bdb4978f649ef74dde467ebf8224c.bindPopup(popup_0979be1f58be6966ff230e0d818e4416)
        ;

        
    
    
            var marker_f63b77bd4a2e945948efd47384b61f07 = L.marker(
                [39.99310702, 116.3022521],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_e2ce21c225a393e7be1fd8230c0023a8 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "blue", "prefix": "glyphicon"}
            );
            marker_f63b77bd4a2e945948efd47384b61f07.setIcon(icon_e2ce21c225a393e7be1fd8230c0023a8);
        
    
        var popup_574e57c8142bb0b15ae63c95692ef76c = L.popup({"maxWidth": 400});

        
            
                var html_539375d115bd0563bcad914e1f9234cf = $(`<div id="html_539375d115bd0563bcad914e1f9234cf" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">翻尾石鱼</h3>         <p style="font-size:18px; margin-bottom: 10px;">在北京大学的未名湖畔，翻尾石鱼静静伫立，见证了历史的风云变迁。这件源自圆明园的石刻艺术品，其生动的形态和丰富的背景故事，为您在游玩经典路线时增添了一份文化的厚重。湖边的亭台楼榭与自然山水相映成趣，是您享受悠闲时光的理想之地。</p>                  <div style="margin-bottom: 15px;">             <p id="likes-翻尾石鱼" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 0</p>             <button onclick="likeLocation('翻尾石鱼')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-翻尾石鱼" style="font-size:16px; margin-bottom: 5px;">当前评分: 0.0/5</p>             <label for="rating-select-翻尾石鱼" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-翻尾石鱼" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('翻尾石鱼')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-翻尾石鱼" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('翻尾石鱼')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-翻尾石鱼">             <button onclick="getComments('翻尾石鱼')">查看评论</button>             <ul id="comments-list-翻尾石鱼"></ul>         </div>     </div>     </div>`)[0];
                popup_574e57c8142bb0b15ae63c95692ef76c.setContent(html_539375d115bd0563bcad914e1f9234cf);
            
        

        marker_f63b77bd4a2e945948efd47384b61f07.bindPopup(popup_574e57c8142bb0b15ae63c95692ef76c)
        ;

        
    
    
            var marker_6cdadf0da4875512aead1ad110e6c75a = L.marker(
                [39.99228636, 116.3009553],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_06b8f64496b8e0e42b26bc369913e0d9 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "blue", "prefix": "glyphicon"}
            );
            marker_6cdadf0da4875512aead1ad110e6c75a.setIcon(icon_06b8f64496b8e0e42b26bc369913e0d9);
        
    
        var popup_8a2163ef4722d7e8ddef804434121e7d = L.popup({"maxWidth": 400});

        
            
                var html_d43788f36896a01b6dede6b172bbd943 = $(`<div id="html_d43788f36896a01b6dede6b172bbd943" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">北京城乡生态梯度研究平台</h3>         <p style="font-size:18px; margin-bottom: 10px;">探寻北京城乡生态梯度研究平台，您将深入了解城市化如何与自然和谐共生。这个独特的科研平台，展示了植被在城市环境中蓬勃生长的奥秘。欣赏沿途的山水风光与历史悠久的亭台楼榭，感受科学与自然的完美结合，让每一步都充满启发与美好。</p>                  <div style="margin-bottom: 15px;">             <p id="likes-北京城乡生态梯度研究平台" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 0</p>             <button onclick="likeLocation('北京城乡生态梯度研究平台')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-北京城乡生态梯度研究平台" style="font-size:16px; margin-bottom: 5px;">当前评分: 0.0/5</p>             <label for="rating-select-北京城乡生态梯度研究平台" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-北京城乡生态梯度研究平台" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('北京城乡生态梯度研究平台')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-北京城乡生态梯度研究平台" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('北京城乡生态梯度研究平台')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-北京城乡生态梯度研究平台">             <button onclick="getComments('北京城乡生态梯度研究平台')">查看评论</button>             <ul id="comments-list-北京城乡生态梯度研究平台"></ul>         </div>     </div>     </div>`)[0];
                popup_8a2163ef4722d7e8ddef804434121e7d.setContent(html_d43788f36896a01b6dede6b172bbd943);
            
        

        marker_6cdadf0da4875512aead1ad110e6c75a.bindPopup(popup_8a2163ef4722d7e8ddef804434121e7d)
        ;

        
    
    
            var marker_8723c13f96872426242e91fcefcb61e4 = L.marker(
                [39.98649777, 116.3094499],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_db148cc8bdb8e84a6169ec3ea9715036 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "red", "prefix": "glyphicon"}
            );
            marker_8723c13f96872426242e91fcefcb61e4.setIcon(icon_db148cc8bdb8e84a6169ec3ea9715036);
        
    
        var popup_55f03c64e8e22401782dfafdaaabb755 = L.popup({"maxWidth": 400});

        
            
                var html_2f5d026ef7b9662c470b8f44284f94cd = $(`<div id="html_2f5d026ef7b9662c470b8f44284f94cd" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">地质博物馆</h3>         <p style="font-size:18px; margin-bottom: 10px;">北京大学地质博物馆将自然与科学完美结合，是喜欢经典游玩的你不可错过的目的地。在这里，你不仅能欣赏到珍稀古生物和多样矿石的精彩展览，还能体验到科学与艺术的交融。漫步在约400平方米的展厅，与逾10万件地学标本亲密接触，感受大自然的奥秘和历史的深邃。别忘了提前预约，开启一场知识与美的旅程！</p>                  <div style="margin-bottom: 15px;">             <p id="likes-地质博物馆" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 4</p>             <button onclick="likeLocation('地质博物馆')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-地质博物馆" style="font-size:16px; margin-bottom: 5px;">当前评分: 5.0/5</p>             <label for="rating-select-地质博物馆" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-地质博物馆" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('地质博物馆')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-地质博物馆" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('地质博物馆')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-地质博物馆">             <button onclick="getComments('地质博物馆')">查看评论</button>             <ul id="comments-list-地质博物馆"></ul>         </div>     </div>     </div>`)[0];
                popup_55f03c64e8e22401782dfafdaaabb755.setContent(html_2f5d026ef7b9662c470b8f44284f94cd);
            
        

        marker_8723c13f96872426242e91fcefcb61e4.bindPopup(popup_55f03c64e8e22401782dfafdaaabb755)
        ;

        
    
    
            var marker_0cf3c8496d2ef63d2ff9ce5231e8d9de = L.marker(
                [39.99343326, 116.3001789],
                {}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            var icon_85ae2a2b6825c8fae45d0a1972903bd6 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "info-sign", "iconColor": "white", "markerColor": "blue", "prefix": "glyphicon"}
            );
            marker_0cf3c8496d2ef63d2ff9ce5231e8d9de.setIcon(icon_85ae2a2b6825c8fae45d0a1972903bd6);
        
    
        var popup_41865b85caffdae012239cfc88650dc3 = L.popup({"maxWidth": 400});

        
            
                var html_bc101b3136d3beba77ff983a3f415db6 = $(`<div id="html_bc101b3136d3beba77ff983a3f415db6" style="width: 100.0%; height: 100.0%;">     <div style="font-family: Arial, sans-serif; padding: 10px;">         <h3 style="font-size:22px; margin-bottom: 10px;">麒麟（左）</h3>         <p style="font-size:18px; margin-bottom: 10px;">在北京大学校园内，您可以欣赏到历史悠久的石麒麟。这对珍贵文物，承载着丰富的传统文化与艺术价值，象征着吉祥与崇高。高耸的石麒麟静静守护着校园，周围的山水及古典建筑相映成趣，构成了一幅和谐美丽的画面，绝对是经典路线游玩的必访之地。</p>                  <div style="margin-bottom: 15px;">             <p id="likes-麒麟（左）" style="font-size:16px; margin-bottom: 5px;">当前点赞数: 5</p>             <button onclick="likeLocation('麒麟（左）')" style="font-size:14px; padding: 5px 10px;">点赞</button>         </div>          <div style="margin-bottom: 15px;">             <p id="ratings-麒麟（左）" style="font-size:16px; margin-bottom: 5px;">当前评分: 5.0/5</p>             <label for="rating-select-麒麟（左）" style="font-size:14px; margin-right: 10px;">请选择评分:</label>             <select id="rating-select-麒麟（左）" style="font-size:14px; padding: 5px;">                 <option value="" disabled selected>选择评分</option>                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>             </select>             <button onclick="submitRating('麒麟（左）')" style="font-size:14px; padding: 5px 10px; margin-left: 10px;">提交评分</button>         </div>          <div style="margin-bottom: 15px;">             <textarea id="comment-text-麒麟（左）" placeholder="输入您的评论" style="width: 100%; height: 60px; font-size:14px; padding: 5px;"></textarea>             <button onclick="submitComment('麒麟（左）')" style="font-size:14px; padding: 5px 10px; margin-top: 5px;">提交评论</button>         </div>         <!-- 显示评论区域 -->         <div id="comments-section-麒麟（左）">             <button onclick="getComments('麒麟（左）')">查看评论</button>             <ul id="comments-list-麒麟（左）"></ul>         </div>     </div>     </div>`)[0];
                popup_41865b85caffdae012239cfc88650dc3.setContent(html_bc101b3136d3beba77ff983a3f415db6);
            
        

        marker_0cf3c8496d2ef63d2ff9ce5231e8d9de.bindPopup(popup_41865b85caffdae012239cfc88650dc3)
        ;

        
    
    
            var poly_line_896c49d4bc295f7fd2ee4cf4294c64ba = L.polyline(
                [[39.9907995, 116.3093076], [39.9907899, 116.3090649], [39.990749, 116.307851], [39.9912388, 116.3078209], [39.9916982, 116.3077663], [39.9916729, 116.3071531], [39.9916188, 116.3063146], [39.9918029, 116.3060249], [39.9919705, 116.3059375], [39.9920871, 116.3058675], [39.9924092, 116.3056511], [39.9927438, 116.3054488], [39.9927438, 116.3054488], [39.992792, 116.3042594], [39.992568, 116.3035722], [39.9925504, 116.3033865], [39.9928952, 116.3023585], [39.9928952, 116.3023585], [39.9928837, 116.3015255], [39.9928357, 116.3010897], [39.9928621, 116.3006002], [39.9928621, 116.3006002], [39.9928439, 116.3003113], [39.9930371, 116.3002032], [39.993292, 116.3001454], [39.993292, 116.3001454], [39.9930371, 116.3002032], [39.9928439, 116.3003113], [39.9927282, 116.3001947], [39.992616, 116.3001954], [39.9924657, 116.3001997], [39.9920485, 116.3008391], [39.9921463, 116.3009128], [39.9921463, 116.3009128], [39.9919871, 116.3011092], [39.9918729, 116.3016117], [39.9915999, 116.3016158], [39.9911692, 116.3016347], [39.990854, 116.3016464], [39.9907911, 116.3016487], [39.9906, 116.3018811], [39.990144, 116.3019128], [39.9900065, 116.3023501], [39.9899938, 116.3023867], [39.9899856, 116.3024793], [39.9899111, 116.3024817], [39.9896379, 116.3024903], [39.9896433, 116.3030357], [39.9896484, 116.303555], [39.9893799, 116.3035665], [39.9883759, 116.3039436], [39.9882798, 116.3039502], [39.9880661, 116.3042618], [39.9880767, 116.3045067], [39.9880888, 116.3051395], [39.9880915, 116.3052809], [39.9881119, 116.3057755], [39.9881439, 116.3065508], [39.9881524, 116.3067691], [39.9881629, 116.3070425], [39.9879758, 116.307383], [39.9877268, 116.3073956], [39.9875358, 116.3074097], [39.9875402, 116.3075192], [39.987563, 116.3080817], [39.9875709, 116.3082777], [39.9875005, 116.3082842], [39.9872941, 116.3083032], [39.9867412, 116.3084393], [39.986768, 116.3094805], [39.9865741, 116.3094879], [39.9865741, 116.3094879], [39.9861212, 116.3094876], [39.9854197, 116.3085539], [39.9852187, 116.3085729], [39.9851909, 116.3065927], [39.9851819, 116.3063195], [39.9851586, 116.3054664]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.7, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_b64e0c6e4181c7a6df33e0ebee19d69b);
        
    
            poly_line_896c49d4bc295f7fd2ee4cf4294c64ba.setText(
                "     \u2192    ",
                {"attributes": {"fill": "red", "font-size": "28", "font-weight": "bold"}, "below": false, "center": false, "offset": 10, "orientation": 0, "repeat": true}
            );
        
</script>
</html>
            <script>
            function getMapId() {
                var mapElement = document.querySelector('.folium-map');
                return mapElement ? mapElement.getAttribute('id') : null;
            }

            function updateUserLocation() {
                var mapId = getMapId();
                if (!mapId) {
                    console.error('Map ID not found.');
                    return;
                }

                var map = window[mapId];
                if (!map) {
                    console.error('Map instance not found for ID:', mapId);
                    return;
                }

                if (navigator.geolocation) {
                    navigator.geolocation.watchPosition(
                        function (position) {
                            var accuracy = position.coords.accuracy;
                            console.log('Position received:', position);

                            if (accuracy > 100) {
                                console.log('Position accuracy is too low:', accuracy, 'Skipping this update.');
                                return;
                            }

                            // 如果存在旧的标记，直接更新它的位置
                            if (window.userLocationMarker) {
                                window.userLocationMarker.setLatLng([position.coords.latitude, position.coords.longitude]);
                                console.log('User location marker position updated.');
                            } else {
                                // 如果没有标记，则创建新的标记
                                window.userLocationMarker = L.circleMarker([position.coords.latitude, position.coords.longitude], {
                                    color: 'blue',
                                    fillColor: 'blue',
                                    fillOpacity: 0.7,
                                    radius: 7
                                }).addTo(map);
                                console.log('New user location marker added to the map.');
                            }
                        },
                        function (error) {
                            console.error('Error getting location:', error);
                            if (error.code === 1) {
                                alert('User denied Geolocation');
                                provideAlternativeSolution();
                            } else if (error.code === 2) {
                                alert('Unable to retrieve your location.');
                            } else if (error.code === 3) {
                                alert('Timeout in retrieving your location.');
                            }
                        },
                        {
                            enableHighAccuracy: true,
                            timeout: 30000,  // 最大请求时间 20 秒
                            maximumAge: 10000 
                        }
                    );
                } else {
                    console.log("Geolocation is not supported by this browser.");
                }

                function provideAlternativeSolution() {
                    alert('Please provide your location manually or allow location access for more accurate results.');
                }
            }


            document.addEventListener('DOMContentLoaded', function () {
                console.log('DOMContentLoaded event triggered.');
                updateUserLocation();
            });


            function likeLocation(locationName) {
                // 发送点赞请求到后端
                fetch('/like_location', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 'location': locationName }),
                })
                .then(response => response.json())
                .then(data => {
                    // 获取新的点赞数并更新页面
                    const likesElement = document.getElementById(`likes-${locationName}`);
                    likesElement.textContent = `当前点赞数: ${data.new_likes}`;
                    alert("点赞成功！");
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }

            function submitRating(locationName) {
                // 获取用户选择的评分
                const ratingSelect = document.getElementById(`rating-select-${locationName}`);
                const rating = parseInt(ratingSelect.value, 10);

                // 发送评分请求到后端
                fetch('/rate_location', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 'location': locationName, 'rating': rating }),
                })
                .then(response => response.json())
                .then(data => {
                    // 获取新的评分并更新页面
                    const ratingsElement = document.getElementById(`ratings-${locationName}`);
                    ratingsElement.textContent = `当前评分: ${data.new_ratings}/5`;
                    alert("评分成功！");
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }
                
            function submitComment(locationName) {
                const commentText = document.getElementById(`comment-text-${locationName}`).value;
                
                if (commentText.trim() === "") {
                    alert("评论不能为空！");
                    return;
                }

                // 发送评论请求到后端
                fetch('/submit_comment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 'location': locationName, 'comment': commentText }),
                })
                .then(response => response.json())
                .then(data => {
                    alert("评论提交成功！");
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }
            function getComments(locationName) {
                // 发送请求获取该地点的评论
                fetch(`/get_comments?location=${locationName}`)
                    .then(response => response.json())
                    .then(data => {
                        const commentsList = document.getElementById(`comments-list-${locationName}`);
                        commentsList.innerHTML = '';  // 清空当前的评论列表

                        // 将每条评论显示出来
                        if (data.comments.length === 0) {
                            commentsList.innerHTML = '<li>暂无评论</li>';
                        } else {
                            data.comments.forEach(comment => {
                                const commentItem = document.createElement('li');
                                commentItem.textContent = comment;
                                commentsList.appendChild(commentItem);
                            });
                        }
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
            }

            </script>
            